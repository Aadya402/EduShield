<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>EduShield - Loan Application</title>
    
    <link rel="stylesheet" href="style.css" />
    
    <link rel="stylesheet" href="applic.css" />
    <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>

</head>

<body>

    <body>
    <div id="liveness-overlay" class="liveness-overlay hidden"></div>
    <div class="container">
        <div class="form-box">

    <body class="form-page">
        <div class="application-container">

            <div class="logo">
                <h1 class="brand-title">Student Loan Application</h1>
                <p class="slogan">Fill out the form below to apply for a student loan.</p>
            </div>

            <form id="loan-application-form">
    
                <h2>Personal Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="full-name">Full Name *</label>
                        <input id="full-name" type="text" required />
                    </div>

                    <div class="form-group">
                        <label for="date-of-birth">Date of Birth *</label>
                        <input id="date-of-birth" type="date" required />
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input id="email" type="email" required />
                    </div>

                    <div class="form-group">
                        <label for="phone-number">Phone Number (10 digits) *</label>
                        <input id="phone-number" type="tel" pattern="[0-9]{10}" maxlength="10" required />
                    </div>

                    <div class="form-group">
                        <label for="pan-number">PAN Number *</label>
                        <input id="pan-number" type="text" pattern="[A-Z0-9]{10}" maxlength="10" required />
                    </div>

                    <div class="form-group">
                        <label for="aadhar-number">Aadhar Number (12 digits) *</label>
                        <input id="aadhar-number" type="tel" pattern="[0-9]{12}" maxlength="12" required />
                    </div>

                    <div class="form-group">
                        <label for="gender">Gender *</label>
                        <select id="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="marital-status">Marital Status *</label>
                        <select id="marital-status" required>
                            <option value="">Select Marital Status</option>
                            <option value="Single">Single</option>
                            <option value="Married">Married</option>
                            <option value="Divorced">Divorced/Widowed</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="state">State/Province *</label>
                        <input id="state" type="text" required />
                    </div>

                    <div class="form-group">
                        <label for="city">City/Town *</label>
                        <input id="city" type="text" required />
                    </div>

                    <div class="form-group">
                        <label for="dependants">Number of Dependants *</label>
                        <input id="dependants" type="number" min="0" value="0" required />
                    </div>

                    <div class="form-group">
                        <label for="education-level">Education Level *</label>
                        <select id="education-level" required>
                            <option value="">Select Education Level</option>
                            <option value="Not Graduate">Not Graduate</option>
                            <option value="Undergraduate">Undergraduate</option>
                            <option value="Postgraduate">Postgraduate</option>
                            <option value="Diploma">Diploma</option>
                        </select>
                    </div>

                    <div class="form-group-checkbox">
                        <input type="checkbox" id="self-employed" />
                        <label for="self-employed">Self Employed</label>
                    </div>
                </div>

                <h2>Financial Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="applicant-income">Applicant Monthly Income (₹) *</label>
                        <input id="applicant-income" type="number" min="0" required />
                    </div>

                    <div class="form-group">
                        <label for="credit-score">Credit Score (300-900) *</label>
                        <input id="credit-score" type="number" min="300" max="900" required />
                    </div>

                    <div class="form-group">
                        <label for="loan-amount">Required Loan Amount (₹) *</label>
                        <input id="loan-amount" type="number" min="10000" required />
                    </div>
                    
                    <div class="form-group">
                        <label for="loan-term">Loan Term in Months *</label>
                        <input id="loan-term" type="number" min="12" max="360" required />
                    </div>
                </div>

                
                 <!-- Manual Face Capture Section -->
                <h2>Facial Verification</h2>
                <div id="face-capture-section" class="face-capture-section">
                    <p id="status-message" class="status-message">A photo is required for identity verification.</p>

                    <!-- 1. Initial State: Instructions and Start Button -->
                    <div id="capture-instructions">
                        <button type="button" id="start-camera-btn" class="action-btn">Start Camera</button>
                    </div>

                    <!-- 2. Active Camera State: Video Feed and Capture Button -->
                    <div id="video-container" class="video-container hidden">
                        <video id="video-feed" autoplay playsinline></video>
                        <button type="button" id="capture-btn" class="capture-btn">Capture Photo</button>
                    </div>

                    <!-- 3. Success State: Image Preview and Recapture Button -->
                    <div id="capture-success" class="capture-success hidden">
                        <img id="captured-image-preview" alt="Your captured photo" />
                        <button type="button" id="recapture-btn" class="action-btn secondary">Recapture</button>
                    </div>
                    
                    <input type="hidden" id="face-capture-data" name="faceCaptureData" />
                </div>

                <h2>Terms & Consent</h2>
                <div class="consent-section">
                    <input type="checkbox" id="consent-check" name="consent" required />
                    <label for="consent-check">I agree to the <a href="#" target="_blank">Terms and Conditions</a>, and consent to the use of my personal data for checks.</label>
                </div>

                <div class="form-actions">
                    <button id="submit-loan-btn" class="primary-btn">Submit Application</button>
                    <a href="index.html" id="back-to-role-btn" class="secondary-btn">Back to Role Selection</a>
                </div>
                
            </form>


            
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="env.js"></script>
    <script src="fingerprint.js"></script>
    <script src="behavioral-analytics.js"></script> 
    <script src="app.js"></script>
    <script src="face-capture.js"></script>
    
</body>
</html>



